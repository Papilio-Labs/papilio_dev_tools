; Hardware tests for papilio_dev_tools (standalone test project)
;
; This is a standalone PlatformIO test project that demonstrates
; how to structure hardware tests for Papilio libraries.
;
; See docs/INTEGRATION_PATTERNS.md for details on this pattern.

[platformio]
default_envs = esp32

; ESP32 test environment
[env:esp32]
platform = espressif32
board = esp32dev
framework = arduino

; Test configuration
test_framework = unity
test_build_src = yes

; Library dependency finder mode (chain+ = stricter, won't include Unity examples)
lib_ldf_mode = chain+

; Library under test
; Use lib_extra_dirs to reference parent library directory
lib_extra_dirs = 
    ../..  ; Points to libs/ directory

; Dependencies (if library has external dependencies)
lib_deps = 
    ; Add library dependencies here if needed
    ; papilio_dev_tools

; Build flags
build_flags = 
    -Wall
    -Wextra
    -DUNITY_INCLUDE_PRINT_FORMATTED

; Upload and monitor settings
upload_speed = 921600
monitor_speed = 115200

; Test settings
test_speed = 115200
test_port = AUTO  ; Auto-detect port, or specify: /dev/ttyUSB0, COM3, etc.

; Optional: Native test environment (runs on host PC)
[env:native]
platform = native
test_framework = unity
